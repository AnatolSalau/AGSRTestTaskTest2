2024-06-10T09:50:48.210+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] c.e.a.AuthorizationServerApplication     : Starting AuthorizationServerApplication using Java 21.0.1 with PID 7076 (D:\JavaDevelop\Projects\AGSRTestTaskTest2\authorization_server\build\classes\java\main started by RedmiBook in D:\JavaDevelop\Projects\AGSRTestTaskTest2)
2024-06-10T09:50:48.218+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] c.e.a.AuthorizationServerApplication     : No active profile set, falling back to 1 default profile: "default"
2024-06-10T09:50:49.078+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-06-10T09:50:49.096+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.
2024-06-10T09:50:49.728+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2024-06-10T09:50:49.739+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-10T09:50:49.739+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-10T09:50:49.792+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-10T09:50:49.792+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1538 ms
2024-06-10T09:50:50.072+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-10T09:50:50.229+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d2046bb
2024-06-10T09:50:50.232+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-10T09:50:50.324+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] n.l.s.preliquibase.PreLiquibase          : PreLiquibase: Executing SQL script : class path resource [db/preliquibase/create_schema.sql]
2024-06-10T09:50:50.689+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : Reading from auth_sch.databasechangelog
2024-06-10T09:50:50.714+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.ui                             : Database is up to date, no changesets to execute
2024-06-10T09:50:50.716+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : Reading from auth_sch.databasechangelog
2024-06-10T09:50:50.722+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : UPDATE SUMMARY
2024-06-10T09:50:50.723+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Run:                          0
2024-06-10T09:50:50.723+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Previously run:               2
2024-06-10T09:50:50.723+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Filtered out:                 0
2024-06-10T09:50:50.723+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : -------------------------------
2024-06-10T09:50:50.723+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Total change sets:            2
2024-06-10T09:50:50.723+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Update summary generated
2024-06-10T09:50:50.739+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.lockservice                    : Successfully released change log lock
2024-06-10T09:50:50.741+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.command                        : Command execution complete
2024-06-10T09:50:50.816+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-06-10T09:50:50.869+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-06-10T09:50:50.912+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-06-10T09:50:51.134+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-06-10T09:50:51.380+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-06-10T09:50:51.385+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-06-10T09:50:51.417+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2024-06-10T09:50:51.418+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Cannot load module org.springframework.security.cas.jackson2.CasJackson2Module

java.lang.ClassNotFoundException: org.springframework.security.cas.jackson2.CasJackson2Module
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:304) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.security.jackson2.SecurityJackson2Modules.loadAndGetInstance(SecurityJackson2Modules.java:127) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.addToModulesList(SecurityJackson2Modules.java:172) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.getModules(SecurityJackson2Modules.java:146) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository$RegisteredClientRowMapper.<init>(JdbcRegisteredClientRepository.java:261) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository.<init>(JdbcRegisteredClientRepository.java:147) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at com.example.authorization_server.config.OauthClientsConfug.registeredClientRepository(OauthClientsConfug.java:24) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.CGLIB$registeredClientRepository$1(<generated>) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$FastClass$$1.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:339) ~[spring-context-6.1.8.jar:6.1.8]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.registeredClientRepository(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.example.authorization_server.AuthorizationServerApplication.main(AuthorizationServerApplication.java:10) ~[main/:na]

2024-06-10T09:50:51.422+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2024-06-10T09:50:51.422+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2024-06-10T09:50:51.422+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2024-06-10T09:50:51.423+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2024-06-10T09:50:51.436+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2024-06-10T09:50:51.436+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Cannot load module org.springframework.security.cas.jackson2.CasJackson2Module

java.lang.ClassNotFoundException: org.springframework.security.cas.jackson2.CasJackson2Module
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:304) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.security.jackson2.SecurityJackson2Modules.loadAndGetInstance(SecurityJackson2Modules.java:127) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.addToModulesList(SecurityJackson2Modules.java:172) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.getModules(SecurityJackson2Modules.java:146) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository$RegisteredClientParametersMapper.<init>(JdbcRegisteredClientRepository.java:370) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository.<init>(JdbcRegisteredClientRepository.java:148) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at com.example.authorization_server.config.OauthClientsConfug.registeredClientRepository(OauthClientsConfug.java:24) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.CGLIB$registeredClientRepository$1(<generated>) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$FastClass$$1.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:339) ~[spring-context-6.1.8.jar:6.1.8]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.registeredClientRepository(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.example.authorization_server.AuthorizationServerApplication.main(AuthorizationServerApplication.java:10) ~[main/:na]

2024-06-10T09:50:51.437+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2024-06-10T09:50:51.437+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2024-06-10T09:50:51.437+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2024-06-10T09:50:51.437+03:00 DEBUG 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2024-06-10T09:50:51.446+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2024-06-10T09:50:51.669+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2024-06-10T09:50:51.723+03:00  WARN 7076 --- [AuthorizationServer_AGSR_TestTask] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-06-10T09:50:51.862+03:00 TRACE 7076 --- [AuthorizationServer_AGSR_TestTask] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@7a3ab73a}
2024-06-10T09:50:51.864+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name inMemoryDaoAuthenticationProvider
2024-06-10T09:50:51.864+03:00  WARN 7076 --- [AuthorizationServer_AGSR_TestTask] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2024-06-10T09:50:52.602+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000001e28182d450@36d7e8d2 with [org.springframework.security.web.session.DisableEncodeUrlFilter@715ea64a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cbb394b, org.springframework.security.web.context.SecurityContextHolderFilter@5984742f, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2dc54b50, org.springframework.security.web.header.HeaderWriterFilter@7c9b0c16, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@76a86677, org.springframework.security.web.authentication.logout.LogoutFilter@3524ee20, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1ef8f7e6, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4fe687b5, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@45ea6c24, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@23b02f37, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@16a89351, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@e74300b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6aaed880, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7375ebe7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b4bc7b9, org.springframework.security.web.access.ExceptionTranslationFilter@741687d4, org.springframework.security.web.access.intercept.AuthorizationFilter@776b7fa2, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7c74ef4a, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7c1f3125, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@374712f8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@65130cf2, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2e214d39]
2024-06-10T09:50:53.002+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7a8dbbf1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71ad1d0b, org.springframework.security.web.context.SecurityContextHolderFilter@77a13162, org.springframework.security.web.header.HeaderWriterFilter@2357f000, org.springframework.security.web.authentication.logout.LogoutFilter@14d7a962, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@22495f2f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1cd4082a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a087132, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@471b7c9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fb9695a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d8c03cc, org.springframework.security.web.access.ExceptionTranslationFilter@5a097a83, org.springframework.security.web.access.intercept.AuthorizationFilter@525aadf2]
2024-06-10T09:50:53.486+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2024-06-10T09:50:53.497+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [main] c.e.a.AuthorizationServerApplication     : Started AuthorizationServerApplication in 5.641 seconds (process running for 9.227)
2024-06-10T09:51:48.821+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.apache.coyote.http11.Http11Processor   : The host [authorization_server:8082] is not valid
 Note: further occurrences of request parsing errors will be logged at DEBUG level.

java.lang.IllegalArgumentException: The character [_] is never valid in a domain name.
	at org.apache.tomcat.util.http.parser.HttpParser$DomainParseState.next(HttpParser.java:1045) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.http.parser.HttpParser.readHostDomainName(HttpParser.java:931) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.http.parser.Host.parse(Host.java:67) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.http.parser.Host.parse(Host.java:43) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessor.parseHost(AbstractProcessor.java:298) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.prepareRequest(Http11Processor.java:782) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:366) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.24.jar:10.1.24]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2024-06-10T09:53:22.126+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-06-10T09:53:22.129+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-10T09:53:22.135+03:00  INFO 7076 --- [AuthorizationServer_AGSR_TestTask] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-10T09:58:16.011+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] c.e.a.AuthorizationServerApplication     : Starting AuthorizationServerApplication using Java 21.0.1 with PID 9768 (D:\JavaDevelop\Projects\AGSRTestTaskTest2\authorization_server\build\classes\java\main started by RedmiBook in D:\JavaDevelop\Projects\AGSRTestTaskTest2)
2024-06-10T09:58:16.015+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] c.e.a.AuthorizationServerApplication     : No active profile set, falling back to 1 default profile: "default"
2024-06-10T09:58:17.019+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-06-10T09:58:17.035+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2024-06-10T09:58:17.637+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2024-06-10T09:58:17.648+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-10T09:58:17.648+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-10T09:58:17.701+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-10T09:58:17.701+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1639 ms
2024-06-10T09:58:18.005+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-10T09:58:18.155+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7856f41a
2024-06-10T09:58:18.156+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-10T09:58:18.239+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] n.l.s.preliquibase.PreLiquibase          : PreLiquibase: Executing SQL script : class path resource [db/preliquibase/create_schema.sql]
2024-06-10T09:58:18.613+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : Reading from auth_sch.databasechangelog
2024-06-10T09:58:18.637+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.ui                             : Database is up to date, no changesets to execute
2024-06-10T09:58:18.639+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : Reading from auth_sch.databasechangelog
2024-06-10T09:58:18.645+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : UPDATE SUMMARY
2024-06-10T09:58:18.646+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Run:                          0
2024-06-10T09:58:18.646+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Previously run:               2
2024-06-10T09:58:18.646+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Filtered out:                 0
2024-06-10T09:58:18.646+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : -------------------------------
2024-06-10T09:58:18.646+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Total change sets:            2
2024-06-10T09:58:18.647+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Update summary generated
2024-06-10T09:58:18.662+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.lockservice                    : Successfully released change log lock
2024-06-10T09:58:18.668+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.command                        : Command execution complete
2024-06-10T09:58:18.728+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-06-10T09:58:18.778+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-06-10T09:58:18.812+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-06-10T09:58:19.035+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-06-10T09:58:19.276+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-06-10T09:58:19.286+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-06-10T09:58:19.323+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2024-06-10T09:58:19.324+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Cannot load module org.springframework.security.cas.jackson2.CasJackson2Module

java.lang.ClassNotFoundException: org.springframework.security.cas.jackson2.CasJackson2Module
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:304) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.security.jackson2.SecurityJackson2Modules.loadAndGetInstance(SecurityJackson2Modules.java:127) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.addToModulesList(SecurityJackson2Modules.java:172) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.getModules(SecurityJackson2Modules.java:146) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository$RegisteredClientRowMapper.<init>(JdbcRegisteredClientRepository.java:261) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository.<init>(JdbcRegisteredClientRepository.java:147) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at com.example.authorization_server.config.OauthClientsConfug.registeredClientRepository(OauthClientsConfug.java:24) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.CGLIB$registeredClientRepository$0(<generated>) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$FastClass$$1.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:339) ~[spring-context-6.1.8.jar:6.1.8]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.registeredClientRepository(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.example.authorization_server.AuthorizationServerApplication.main(AuthorizationServerApplication.java:10) ~[main/:na]

2024-06-10T09:58:19.328+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2024-06-10T09:58:19.329+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2024-06-10T09:58:19.329+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2024-06-10T09:58:19.329+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2024-06-10T09:58:19.343+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2024-06-10T09:58:19.344+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Cannot load module org.springframework.security.cas.jackson2.CasJackson2Module

java.lang.ClassNotFoundException: org.springframework.security.cas.jackson2.CasJackson2Module
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:304) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.security.jackson2.SecurityJackson2Modules.loadAndGetInstance(SecurityJackson2Modules.java:127) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.addToModulesList(SecurityJackson2Modules.java:172) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.getModules(SecurityJackson2Modules.java:146) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository$RegisteredClientParametersMapper.<init>(JdbcRegisteredClientRepository.java:370) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository.<init>(JdbcRegisteredClientRepository.java:148) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at com.example.authorization_server.config.OauthClientsConfug.registeredClientRepository(OauthClientsConfug.java:24) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.CGLIB$registeredClientRepository$0(<generated>) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$FastClass$$1.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:339) ~[spring-context-6.1.8.jar:6.1.8]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.registeredClientRepository(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.example.authorization_server.AuthorizationServerApplication.main(AuthorizationServerApplication.java:10) ~[main/:na]

2024-06-10T09:58:19.344+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2024-06-10T09:58:19.345+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2024-06-10T09:58:19.345+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2024-06-10T09:58:19.345+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2024-06-10T09:58:19.355+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2024-06-10T09:58:19.600+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2024-06-10T09:58:19.665+03:00  WARN 9768 --- [AuthorizationServer_AGSR_TestTask] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-06-10T09:58:19.845+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@7def62d0}
2024-06-10T09:58:19.849+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name inMemoryDaoAuthenticationProvider
2024-06-10T09:58:19.850+03:00  WARN 9768 --- [AuthorizationServer_AGSR_TestTask] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2024-06-10T09:58:20.924+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002160582de00@62d72091 with [org.springframework.security.web.session.DisableEncodeUrlFilter@76a86677, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b863b4, org.springframework.security.web.context.SecurityContextHolderFilter@4bc75792, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1c10eb3a, org.springframework.security.web.header.HeaderWriterFilter@4823f4d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@67c61551, org.springframework.security.web.authentication.logout.LogoutFilter@240fa4ad, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@52539624, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@e00c94e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@44b1d2fa, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@19412eef, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7d619bcb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@8b93c88, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@522221e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@145ce025, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2524f9bf, org.springframework.security.web.access.ExceptionTranslationFilter@2cd6fae8, org.springframework.security.web.access.intercept.AuthorizationFilter@492e9e87, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@17fa25f1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2438a038, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5fa0943d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@684a34f4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2a10407e]
2024-06-10T09:58:21.379+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14f11a56, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11ce61d1, org.springframework.security.web.context.SecurityContextHolderFilter@2ff2a096, org.springframework.security.web.header.HeaderWriterFilter@7320bccc, org.springframework.security.web.authentication.logout.LogoutFilter@61bfd7da, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5cb654e3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@d140627, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@759862a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65d3e2ba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11548363, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@543b855, org.springframework.security.web.access.ExceptionTranslationFilter@35e0d91e, org.springframework.security.web.access.intercept.AuthorizationFilter@179e8859]
2024-06-10T09:58:21.902+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2024-06-10T09:58:21.913+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [main] c.e.a.AuthorizationServerApplication     : Started AuthorizationServerApplication in 6.371 seconds (process running for 10.035)
2024-06-10T09:58:31.949+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-10T09:58:31.949+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-10T09:58:31.952+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-06-10T09:58:31.977+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002160582de00@62d72091, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@76a86677, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b863b4, org.springframework.security.web.context.SecurityContextHolderFilter@4bc75792, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1c10eb3a, org.springframework.security.web.header.HeaderWriterFilter@4823f4d0, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@67c61551, org.springframework.security.web.authentication.logout.LogoutFilter@240fa4ad, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@52539624, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@e00c94e, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@44b1d2fa, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@19412eef, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@7d619bcb, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@8b93c88, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@522221e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@145ce025, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2524f9bf, org.springframework.security.web.access.ExceptionTranslationFilter@2cd6fae8, org.springframework.security.web.access.intercept.AuthorizationFilter@492e9e87, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@17fa25f1, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@2438a038, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@5fa0943d, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@684a34f4, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2a10407e]] (1/2)
2024-06-10T09:58:31.978+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2024-06-10T09:58:31.980+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/23)
2024-06-10T09:58:31.983+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/23)
2024-06-10T09:58:31.985+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/23)
2024-06-10T09:58:31.986+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/23)
2024-06-10T09:58:31.991+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/23)
2024-06-10T09:58:31.993+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (6/23)
2024-06-10T09:58:31.993+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/23)
2024-06-10T09:58:31.994+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-06-10T09:58:31.994+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/23)
2024-06-10T09:58:31.994+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/23)
2024-06-10T09:58:31.995+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/23)
2024-06-10T09:58:31.995+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (11/23)
2024-06-10T09:58:31.995+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (12/23)
2024-06-10T09:58:31.995+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (13/23)
2024-06-10T09:58:31.999+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/19)
2024-06-10T09:58:32.000+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/19)
2024-06-10T09:58:32.000+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/19)
2024-06-10T09:58:32.090+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2024-06-10T09:58:32.354+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2024-06-10T09:58:32.355+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2024-06-10T09:58:32.358+03:00 DEBUG 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2024-06-10T09:58:32.358+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/23)
2024-06-10T09:58:32.358+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-06-10T09:58:32.358+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/23)
2024-06-10T09:58:32.359+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/23)
2024-06-10T09:58:32.360+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/23)
2024-06-10T09:58:32.360+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/23)
2024-06-10T09:58:32.361+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2024-06-10T09:58:32.361+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7cae1ddd
2024-06-10T09:58:32.361+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]
2024-06-10T09:58:32.362+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/23)
2024-06-10T09:58:32.363+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/19)
2024-06-10T09:58:32.363+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2024-06-10T09:58:32.364+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2024-06-10T09:58:32.410+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] 2ClientCredentialsAuthenticationProvider : Generated access token
2024-06-10T09:58:32.412+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] 2ClientCredentialsAuthenticationProvider : Saved authorization
2024-06-10T09:58:32.412+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2024-06-10T09:58:32.432+03:00 TRACE 9768 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-06-10T10:00:53.017+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-06-10T10:00:53.021+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-10T10:00:53.034+03:00  INFO 9768 --- [AuthorizationServer_AGSR_TestTask] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-06-10T11:02:46.363+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] c.e.a.AuthorizationServerApplication     : Starting AuthorizationServerApplication using Java 21.0.1 with PID 22980 (D:\JavaDevelop\Projects\AGSRTestTaskTest2\authorization_server\build\classes\java\main started by RedmiBook in D:\JavaDevelop\Projects\AGSRTestTaskTest2)
2024-06-10T11:02:46.365+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] c.e.a.AuthorizationServerApplication     : No active profile set, falling back to 1 default profile: "default"
2024-06-10T11:02:47.253+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-06-10T11:02:47.268+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.
2024-06-10T11:02:47.878+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8082 (http)
2024-06-10T11:02:47.889+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-06-10T11:02:47.889+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.24]
2024-06-10T11:02:47.963+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-06-10T11:02:47.963+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1566 ms
2024-06-10T11:02:48.257+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-06-10T11:02:48.368+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1b8d20e6
2024-06-10T11:02:48.370+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-06-10T11:02:48.419+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] n.l.s.preliquibase.PreLiquibase          : PreLiquibase: Executing SQL script : class path resource [db/preliquibase/create_schema.sql]
2024-06-10T11:02:48.651+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : Creating database history table with name: auth_sch.databasechangelog
2024-06-10T11:02:48.734+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : Reading from auth_sch.databasechangelog
2024-06-10T11:02:48.772+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-06-10T11:02:48.773+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.command                        : Using deploymentId: 8006568773
2024-06-10T11:02:48.774+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : Reading from auth_sch.databasechangelog
2024-06-10T11:02:48.779+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.ui                             : Running Changeset: db/changelog/scripts/create_tables.sql::raw::includeAll
2024-06-10T11:02:48.812+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : Custom SQL executed
2024-06-10T11:02:48.813+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : ChangeSet db/changelog/scripts/create_tables.sql::raw::includeAll ran successfully in 34ms
2024-06-10T11:02:48.817+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.ui                             : Running Changeset: db/changelog/scripts/insert_data.sql::raw::includeAll
2024-06-10T11:02:48.824+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : Custom SQL executed
2024-06-10T11:02:48.824+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.changelog                      : ChangeSet db/changelog/scripts/insert_data.sql::raw::includeAll ran successfully in 7ms
2024-06-10T11:02:48.829+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : UPDATE SUMMARY
2024-06-10T11:02:48.829+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Run:                          2
2024-06-10T11:02:48.829+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Previously run:               0
2024-06-10T11:02:48.829+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Filtered out:                 0
2024-06-10T11:02:48.829+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : -------------------------------
2024-06-10T11:02:48.829+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Total change sets:            2
2024-06-10T11:02:48.830+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.util                           : Update summary generated
2024-06-10T11:02:48.831+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.command                        : Update command completed successfully.
2024-06-10T11:02:48.831+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.ui                             : Liquibase: Update has been successful. Rows affected: 8
2024-06-10T11:02:48.834+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.lockservice                    : Successfully released change log lock
2024-06-10T11:02:48.835+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] liquibase.command                        : Command execution complete
2024-06-10T11:02:48.899+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-06-10T11:02:48.954+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.2.Final
2024-06-10T11:02:48.987+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-06-10T11:02:49.204+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-06-10T11:02:49.454+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-06-10T11:02:49.459+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-06-10T11:02:49.491+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2024-06-10T11:02:49.491+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Cannot load module org.springframework.security.cas.jackson2.CasJackson2Module

java.lang.ClassNotFoundException: org.springframework.security.cas.jackson2.CasJackson2Module
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:304) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.security.jackson2.SecurityJackson2Modules.loadAndGetInstance(SecurityJackson2Modules.java:127) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.addToModulesList(SecurityJackson2Modules.java:172) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.getModules(SecurityJackson2Modules.java:146) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository$RegisteredClientRowMapper.<init>(JdbcRegisteredClientRepository.java:261) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository.<init>(JdbcRegisteredClientRepository.java:147) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at com.example.authorization_server.config.OauthClientsConfug.registeredClientRepository(OauthClientsConfug.java:24) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.CGLIB$registeredClientRepository$0(<generated>) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$FastClass$$1.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:339) ~[spring-context-6.1.8.jar:6.1.8]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.registeredClientRepository(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.example.authorization_server.AuthorizationServerApplication.main(AuthorizationServerApplication.java:10) ~[main/:na]

2024-06-10T11:02:49.495+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2024-06-10T11:02:49.495+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2024-06-10T11:02:49.495+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2024-06-10T11:02:49.495+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2024-06-10T11:02:49.508+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.jackson2.CoreJackson2Module, now registering
2024-06-10T11:02:49.508+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Cannot load module org.springframework.security.cas.jackson2.CasJackson2Module

java.lang.ClassNotFoundException: org.springframework.security.cas.jackson2.CasJackson2Module
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:534) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:513) ~[na:na]
	at org.springframework.util.ClassUtils.forName(ClassUtils.java:304) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.security.jackson2.SecurityJackson2Modules.loadAndGetInstance(SecurityJackson2Modules.java:127) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.addToModulesList(SecurityJackson2Modules.java:172) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.jackson2.SecurityJackson2Modules.getModules(SecurityJackson2Modules.java:146) ~[spring-security-core-6.3.0.jar:6.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository$RegisteredClientParametersMapper.<init>(JdbcRegisteredClientRepository.java:370) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at org.springframework.security.oauth2.server.authorization.client.JdbcRegisteredClientRepository.<init>(JdbcRegisteredClientRepository.java:148) ~[spring-security-oauth2-authorization-server-1.3.0.jar:1.3.0]
	at com.example.authorization_server.config.OauthClientsConfug.registeredClientRepository(OauthClientsConfug.java:24) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.CGLIB$registeredClientRepository$0(<generated>) ~[main/:na]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$FastClass$$1.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.1.8.jar:6.1.8]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:339) ~[spring-context-6.1.8.jar:6.1.8]
	at com.example.authorization_server.config.OauthClientsConfug$$SpringCGLIB$$0.registeredClientRepository(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1167) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.8.jar:6.1.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.0.jar:3.3.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.0.jar:3.3.0]
	at com.example.authorization_server.AuthorizationServerApplication.main(AuthorizationServerApplication.java:10) ~[main/:na]

2024-06-10T11:02:49.508+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebJackson2Module, now registering
2024-06-10T11:02:49.508+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.server.jackson2.WebServerJackson2Module, now registering
2024-06-10T11:02:49.509+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module org.springframework.security.web.jackson2.WebServletJackson2Module, now registering
2024-06-10T11:02:49.509+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.jackson2.SecurityJackson2Modules   : Loaded module com.fasterxml.jackson.datatype.jsr310.JavaTimeModule, now registering
2024-06-10T11:02:49.518+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.p.JdbcUserDetailsManager           : No authentication manager set. Reauthentication of users when changing passwords will not be performed.
2024-06-10T11:02:49.731+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoints beneath base path '/actuator'
2024-06-10T11:02:49.786+03:00  WARN 22980 --- [AuthorizationServer_AGSR_TestTask] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-06-10T11:02:49.976+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration=org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$WebSecurityEnablerConfiguration@15096b0e}
2024-06-10T11:02:49.979+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name inMemoryDaoAuthenticationProvider
2024-06-10T11:02:49.980+03:00  WARN 22980 --- [AuthorizationServer_AGSR_TestTask] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2024-06-10T11:02:50.682+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002d9a883e8b0@9423344 with [org.springframework.security.web.session.DisableEncodeUrlFilter@73ccdfc1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18d8da77, org.springframework.security.web.context.SecurityContextHolderFilter@3e2ee637, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b4bc7b9, org.springframework.security.web.header.HeaderWriterFilter@433d5536, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6db84cae, org.springframework.security.web.authentication.logout.LogoutFilter@1eeb9e5c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@eccaf1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@50b010d4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@457dc809, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@98c4a8b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5653429e, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@54972f9a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a744e32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c5379f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@502dc93a, org.springframework.security.web.access.ExceptionTranslationFilter@56a6aadb, org.springframework.security.web.access.intercept.AuthorizationFilter@3f6fd33b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@33a39d7e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@6d028c7e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@668ea404, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@45ea6c24, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@53b60595]
2024-06-10T11:02:51.266+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@46c28400, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d6abfc7, org.springframework.security.web.context.SecurityContextHolderFilter@7df1fc5a, org.springframework.security.web.header.HeaderWriterFilter@14d7a962, org.springframework.security.web.authentication.logout.LogoutFilter@6a2d0a19, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3b09582d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6dccdc50, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4f5d587c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@525aadf2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22495f2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@138a51d5, org.springframework.security.web.access.ExceptionTranslationFilter@41acf2f1, org.springframework.security.web.access.intercept.AuthorizationFilter@5c2f5dc]
2024-06-10T11:02:51.917+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8082 (http) with context path '/'
2024-06-10T11:02:51.930+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [main] c.e.a.AuthorizationServerApplication     : Started AuthorizationServerApplication in 5.922 seconds (process running for 6.494)
2024-06-10T11:03:01.085+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-06-10T11:03:01.085+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-06-10T11:03:01.086+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-06-10T11:03:01.102+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002d9a883e8b0@9423344, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@73ccdfc1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18d8da77, org.springframework.security.web.context.SecurityContextHolderFilter@3e2ee637, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b4bc7b9, org.springframework.security.web.header.HeaderWriterFilter@433d5536, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6db84cae, org.springframework.security.web.authentication.logout.LogoutFilter@1eeb9e5c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@eccaf1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@50b010d4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@457dc809, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@98c4a8b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5653429e, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@54972f9a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a744e32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c5379f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@502dc93a, org.springframework.security.web.access.ExceptionTranslationFilter@56a6aadb, org.springframework.security.web.access.intercept.AuthorizationFilter@3f6fd33b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@33a39d7e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@6d028c7e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@668ea404, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@45ea6c24, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@53b60595]] (1/2)
2024-06-10T11:03:01.103+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /.well-known/openid-configuration
2024-06-10T11:03:01.104+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/23)
2024-06-10T11:03:01.107+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/23)
2024-06-10T11:03:01.108+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/23)
2024-06-10T11:03:01.109+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/23)
2024-06-10T11:03:01.112+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/23)
2024-06-10T11:03:01.113+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (6/23)
2024-06-10T11:03:01.113+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/23)
2024-06-10T11:03:01.114+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-06-10T11:03:01.114+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/23)
2024-06-10T11:03:01.114+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/23)
2024-06-10T11:03:01.114+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/23)
2024-06-10T11:03:01.114+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (11/23)
2024-06-10T11:03:01.130+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-06-10T11:03:01.641+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002d9a883e8b0@9423344, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@73ccdfc1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18d8da77, org.springframework.security.web.context.SecurityContextHolderFilter@3e2ee637, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b4bc7b9, org.springframework.security.web.header.HeaderWriterFilter@433d5536, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6db84cae, org.springframework.security.web.authentication.logout.LogoutFilter@1eeb9e5c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@eccaf1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@50b010d4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@457dc809, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@98c4a8b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5653429e, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@54972f9a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a744e32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c5379f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@502dc93a, org.springframework.security.web.access.ExceptionTranslationFilter@56a6aadb, org.springframework.security.web.access.intercept.AuthorizationFilter@3f6fd33b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@33a39d7e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@6d028c7e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@668ea404, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@45ea6c24, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@53b60595]] (1/2)
2024-06-10T11:03:01.642+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2024-06-10T11:03:01.642+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/23)
2024-06-10T11:03:01.642+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/23)
2024-06-10T11:03:01.642+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/23)
2024-06-10T11:03:01.642+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/23)
2024-06-10T11:03:01.642+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/23)
2024-06-10T11:03:01.642+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (6/23)
2024-06-10T11:03:01.642+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/23)
2024-06-10T11:03:01.643+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-06-10T11:03:01.643+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/23)
2024-06-10T11:03:01.643+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/23)
2024-06-10T11:03:01.643+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/23)
2024-06-10T11:03:01.643+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (11/23)
2024-06-10T11:03:01.643+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (12/23)
2024-06-10T11:03:01.643+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (13/23)
2024-06-10T11:03:01.646+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/19)
2024-06-10T11:03:01.646+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/19)
2024-06-10T11:03:01.646+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/19)
2024-06-10T11:03:01.688+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2024-06-10T11:03:01.935+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2024-06-10T11:03:01.935+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2024-06-10T11:03:01.937+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2024-06-10T11:03:01.937+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (14/23)
2024-06-10T11:03:01.937+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2024-06-10T11:03:01.937+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (15/23)
2024-06-10T11:03:01.938+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (16/23)
2024-06-10T11:03:01.938+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (17/23)
2024-06-10T11:03:01.938+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (18/23)
2024-06-10T11:03:01.940+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2024-06-10T11:03:01.940+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4218f636
2024-06-10T11:03:01.940+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=client2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[]]
2024-06-10T11:03:01.941+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (19/23)
2024-06-10T11:03:01.942+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2ClientCredentialsAuthenticationProvider (1/19)
2024-06-10T11:03:01.942+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] 2ClientCredentialsAuthenticationProvider : Retrieved registered client
2024-06-10T11:03:01.943+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] 2ClientCredentialsAuthenticationProvider : Validated token request parameters
2024-06-10T11:03:01.984+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] 2ClientCredentialsAuthenticationProvider : Generated access token
2024-06-10T11:03:01.985+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] 2ClientCredentialsAuthenticationProvider : Saved authorization
2024-06-10T11:03:01.985+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] 2ClientCredentialsAuthenticationProvider : Authenticated token request
2024-06-10T11:03:01.988+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-06-10T11:03:02.111+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002d9a883e8b0@9423344, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@73ccdfc1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18d8da77, org.springframework.security.web.context.SecurityContextHolderFilter@3e2ee637, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@1b4bc7b9, org.springframework.security.web.header.HeaderWriterFilter@433d5536, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@6db84cae, org.springframework.security.web.authentication.logout.LogoutFilter@1eeb9e5c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@eccaf1b, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@50b010d4, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@457dc809, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@98c4a8b, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@5653429e, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@54972f9a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a744e32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c5379f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@502dc93a, org.springframework.security.web.access.ExceptionTranslationFilter@56a6aadb, org.springframework.security.web.access.intercept.AuthorizationFilter@3f6fd33b, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@33a39d7e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@6d028c7e, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@668ea404, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@45ea6c24, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@53b60595]] (1/2)
2024-06-10T11:03:02.112+03:00 DEBUG 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/jwks
2024-06-10T11:03:02.112+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/23)
2024-06-10T11:03:02.112+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/23)
2024-06-10T11:03:02.112+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/23)
2024-06-10T11:03:02.112+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/23)
2024-06-10T11:03:02.112+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/23)
2024-06-10T11:03:02.112+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (6/23)
2024-06-10T11:03:02.113+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (7/23)
2024-06-10T11:03:02.113+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-06-10T11:03:02.113+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (8/23)
2024-06-10T11:03:02.113+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (9/23)
2024-06-10T11:03:02.113+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (10/23)
2024-06-10T11:03:02.113+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (11/23)
2024-06-10T11:03:02.113+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (12/23)
2024-06-10T11:03:02.115+03:00 TRACE 22980 --- [AuthorizationServer_AGSR_TestTask] [http-nio-8082-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2024-06-10T11:05:33.516+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-06-10T11:05:33.518+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-06-10T11:05:33.521+03:00  INFO 22980 --- [AuthorizationServer_AGSR_TestTask] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
